!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.createPoisson=e():t.createPoisson=e()}(this,(()=>(()=>{"use strict";var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function r(t){const{width:e,height:r,distance:o,ratio:i,attempts:n,beforeCreate:a}=Object.assign({width:100,height:100,distance:10,ratio:1,attempts:20,linkHorizontal:!1,linkVertical:!1,beforeCreate:t=>t},t),h={x:i>1?o*i:o,y:i>1?o:o/i},d={width:h.x/Math.sqrt(2),height:h.y/Math.sqrt(2)},s={width:Math.ceil(e/d.width),height:Math.ceil(r/d.height)},c=y({x:Math.random()*e,y:Math.random()*r}),f=[],u=[],l=Array.from(Array(s.width),(()=>new Array(s.height)));function p(t){f.push(t),u.push(t),l[t.gridX][t.gridY]=t}function y(t){const e=a(t);return e.gridX=Math.floor(e.x/d.width),e.gridY=Math.floor(e.y/d.height),e}function x(t){const e=2*Math.PI*Math.random(),r=1+Math.random();return y({x:t.x+h.x*r*Math.cos(e),y:t.y+h.y*r*Math.sin(e)})}function g(t){return t.x<0||t.x>e||t.y<0||t.y>r}function M(t,e){return Math.pow(e.x-t.x,2)/Math.pow(h.x,2)+Math.pow(e.y-t.y,2)/Math.pow(h.y,2)<=1}function w({gridX:t},r){let o=t-2+r,i=0;return o<0&&(o+=s.width,i=-e),o>=s.width&&(o-=s.width,i=e),{x:o,translateX:i}}function m(t){const e=Math.max(t.gridY-2,0),r=Math.min(t.gridY+2,s.height-1);for(let o=0;o<5;o++){const{x:i,translateX:n}=w(t,o);for(let o=e;o<=r;o++){let e=l[i][o];if(e&&(n&&(e={...e,x:e.x+n}),M(e,t)))return e}}}for(p(c);u.length;){const t=u.pop();for(let e=0;e<n;e++){const e=x(t);g(e)||m(e)||p(e)}}return{radius:h,cell:d,grid:s,origin:c,points:f}}return t.d(e,{default:()=>r}),e.default})()));
//# sourceMappingURL=poisson.js.map